(function(t){function e(e){for(var n,a,r=e[0],c=e[1],l=e[2],u=0,p=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);h&&h(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,r=1;r<o.length;r++){var c=o[r];0!==i[c]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},i={app:0},s=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var h=c;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},"0405":function(t,e,o){},"078b":function(t,e,o){},"0bc1":function(t,e,o){"use strict";o("a370")},"0c8e":function(t,e,o){"use strict";o("078b")},"0d4e":function(t,e,o){},"0e07":function(t,e,o){},"10a9":function(t,e,o){"use strict";o("6fe1")},1245:function(t,e,o){"use strict";o("dc8a")},"218a":function(t,e,o){},"2d87":function(t,e,o){"use strict";o("cbb6")},3394:function(t,e,o){"use strict";o("ed7d")},"42b2":function(t,e,o){"use strict";o("218a")},"43fe":function(t,e,o){"use strict";o("d7af")},"53a2":function(t,e,o){"use strict";o("0405")},"55cb":function(t,e,o){"use strict";o("a3ee")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=(o("d3b7"),o("bc3a")),s=o.n(i),a={},r=s.a.create(a);r.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),r.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=r,window.axios=r,Object.defineProperties(t.prototype,{axios:{get:function(){return r}},$axios:{get:function(){return r}}})},n["a"].use(Plugin);Plugin;var c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},l=[];o("4de4");Storage.prototype.getarray=function(t){var e=localStorage.getItem(t),o={};return e?(o=JSON.parse(e),o=o.filter((function(t){return Date.now()-t.time<=t.expire})),localStorage.setItem(t,JSON.stringify(o)),o):e};var h={created:function(){}},u=h,p=(o("034f"),o("2877")),f=Object(p["a"])(u,c,l,!1,null,null,null),d=f.exports,k=o("8c4f"),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"home"}},[o("HomeHeader"),o("HomeNav"),o("div",{staticClass:"homehotbooks"},[o("HaveCall",{on:{havecallclick:t.havecallclick}}),t.hotbook?o("ul",t._l(t.hotbook,(function(e){return o("li",{key:e._id,on:{click:function(o){return t.Tobook(e._id)}}},[o("DisplayBooks",{attrs:{books:e}})],1)})),0):o("Loading")],1),o("div",{staticClass:"allwatch"},[o("AllWatch",{attrs:{allwatchid:t.allwatchid}}),t.allwatch?o("ShowBooks",{attrs:{allbooks:t.allwatch},on:{Tobook:t.Tobook}}):o("Loading")],1),o("div",{staticClass:"goddessrecommend"},[o("GoddessRec",{attrs:{goddessrecid:t.goddessrecid}}),t.goddessrec&&t.goddessrecnext?o("div",[o("ShowBooks",{attrs:{allbooks:t.goddessrec},on:{Tobook:t.Tobook}}),o("ShowBookst",{attrs:{recnext:t.goddessrecnext},on:{Tobook:t.Tobook}})],1):o("Loading")],1),o("div",{staticClass:"boysrecommend"},[o("BoysRec",{attrs:{boysrecid:t.boysrecid}}),t.boysrec&&t.boysnext?o("div",[o("ShowBooks",{attrs:{allbooks:t.boysrec},on:{Tobook:t.Tobook}}),o("ShowBookst",{attrs:{recnext:t.boysnext},on:{Tobook:t.Tobook}})],1):o("Loading")],1),o("HomeFooter")],1)},v=[],g=(o("fb6a"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),m=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"homefooter"}},[o("h2",[t._v("下载书海阅读APP, 新用户可领取300书海币")]),o("div",{staticClass:"footerbox"},[o("h3",[o("h4",[t._v(" 联系在线客服请关注公众号 ")]),o("h4",[t._v(' "书海有故事" ')])]),o("div",{staticClass:"qrcode"})])])}],y={},_=y,x=(o("6729"),Object(p["a"])(_,g,m,!1,null,null,null)),C=x.exports,w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"homeheader"}},[o("van-nav-bar",{staticClass:"title",attrs:{"left-text":"返回","left-arrow":""},scopedSlots:t._u([{key:"left",fn:function(){return[o("van-image",{attrs:{width:"130",height:"35",src:"http://files.shuhai.com/themes/2017wap/img/logos.png"}})]},proxy:!0},{key:"right",fn:function(){return[o("van-icon",{attrs:{name:"search",size:"23",color:"#fff"},on:{click:t.search}}),o("span",{staticClass:"interval"},[t._v("|")]),o("van-icon",{attrs:{name:"contact",size:"23",color:"#fff"},on:{click:t.contact}})]},proxy:!0}])}),o("van-swipe",{attrs:{autoplay:3e3}},t._l(t.images,(function(t,e){return o("van-swipe-item",{key:e},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"image"}],attrs:{height:"180",width:"100%",fit:"contain"}})])})),1)],1)},$=[],S=o("343b");n["a"].use(S["a"]);var T={name:"HomeHeader",data:function(){return{images:["http://files.shuhai.com/files/article/banner/wap695.jpg","http://files.shuhai.com/files/article/banner/wap694.jpg","http://files.shuhai.com/files/article/banner/pc287.jpg","http://files.shuhai.com/files/article/banner/wap651.jpg"]}},components:{},methods:{search:function(){this.$router.push({path:"/searchbook"})},contact:function(){console.log("contact")}}},q=T,O=(o("1245"),Object(p["a"])(q,w,$,!1,null,null,null)),j=O.exports,L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"homenav"}},[o("van-grid",{staticClass:"nav",attrs:{border:!1,direction:"horizontal","column-num":3}},[o("van-grid-item",{attrs:{to:{path:"/rankbooks",query:{id:"54d42d92321052167dfb75e3"}}}},[o("van-image",{attrs:{src:"http://files.shuhai.com/themes/2017wap/img/nav-bg-boy.png"}}),o("span",[t._v("男频")])],1),o("van-grid-item",{attrs:{to:{path:"/rankbooks",query:{id:"54d43437d47d13ff21cad58b"}}}},[o("van-image",{attrs:{src:"http://files.shuhai.com/themes/2017wap/img/nav-bg-girl.png"}}),o("span",[t._v("女频")])],1),o("van-grid-item",{attrs:{to:"/classify"}},[o("van-image",{attrs:{src:"http://files.shuhai.com/themes/2017wap/img/nav-bg-class.png"}}),o("span",[t._v("分类")])],1),o("van-grid-item",{attrs:{to:"/ranking"}},[o("van-image",{attrs:{src:"http://files.shuhai.com/themes/2017wap/img/nav-bg-top.png"}}),o("span",[t._v("排行")])],1),o("van-grid-item",{attrs:{to:"/finishbooks"}},[o("van-image",{attrs:{src:"http://files.shuhai.com/themes/2017wap/img/nav-bg-end.png"}}),o("span",[t._v("完本")])],1),o("van-grid-item",{attrs:{to:"/bookstack"}},[o("van-image",{attrs:{src:"http://files.shuhai.com/themes/2017wap/img/nav-bg-bkstore.png"}}),o("span",[t._v("书架")])],1)],1)],1)},H=[],R={},E=R,B=(o("77d4"),Object(p["a"])(E,L,H,!1,null,null,null)),I=B.exports,P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("HomeTitel",{on:{clickhandle:function(e){return t.$emit("havecallclick")}},scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("本周最火")])]},proxy:!0},{key:"right",fn:function(){return[o("span",[t._v("换一换")])]},proxy:!0}])})},A=[],N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-nav-bar",{staticClass:"hometitle",on:{"click-right":function(e){return t.$emit("clickhandle")}},scopedSlots:t._u([{key:"left",fn:function(){return[t._t("left")]},proxy:!0},{key:"right",fn:function(){return[t._t("right")]},proxy:!0}],null,!0)})},z=[],J={},D=J,F=(o("0c8e"),Object(p["a"])(D,N,z,!1,null,null,null)),W=F.exports,M={components:{HomeTitel:W}},U=M,V=Object(p["a"])(U,P,A,!1,null,null,null),X=V.exports,G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"displaybooks"},[o("van-card",{attrs:{desc:t.books.shortIntro,title:t.books.title,thumb:"http://statics.zhuishushenqi.com"+t.books.cover},scopedSlots:t._u([{key:"tags",fn:function(){return[o("van-tag",{attrs:{plain:"",type:"danger"}},[t._v(t._s(t.books.majorCate))])]},proxy:!0}])})],1)},K=[],Q={props:["books"]},Y=Q,Z=(o("42b2"),Object(p["a"])(Y,G,K,!1,null,null,null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("HomeTitel",{on:{clickhandle:t.goddessrecclick},scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("女神推荐")])]},proxy:!0},{key:"right",fn:function(){return[o("span",[t._v("更多")])]},proxy:!0}])})},ot=[],nt={props:["goddessrecid"],methods:{goddessrecclick:function(){this.$router.push({path:"/rankbooks",query:{id:this.goddessrecid}})}},components:{HomeTitel:W}},it=nt,st=Object(p["a"])(it,et,ot,!1,null,null,null),at=st.exports,rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("HomeTitel",{on:{clickhandle:t.boysclick},scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("男生爽文")])]},proxy:!0},{key:"right",fn:function(){return[o("span",[t._v("更多")])]},proxy:!0}])})},ct=[],lt={props:["boysrecid"],methods:{boysclick:function(){this.$router.push({path:"/rankbooks",query:{id:this.boysrecid}})}},components:{HomeTitel:W}},ht=lt,ut=Object(p["a"])(ht,rt,ct,!1,null,null,null),pt=ut.exports,ft=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("HomeTitel",{on:{clickhandle:t.allwatch},scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("大家都在看")])]},proxy:!0},{key:"right",fn:function(){return[o("span",[t._v("更多")])]},proxy:!0}])})},dt=[],kt={props:["allwatchid"],methods:{allwatch:function(){this.$router.push({path:"/rankbooks",query:{id:this.allwatchid}})}},components:{HomeTitel:W}},bt=kt,vt=Object(p["a"])(bt,ft,dt,!1,null,null,null),gt=vt.exports,mt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-grid",{staticClass:"showbooks",attrs:{"column-num":4}},t._l(t.allbooks,(function(e){return o("van-grid-item",{key:e._id,on:{click:function(o){return t.$emit("Tobook",e._id)}}},[o("van-image",{attrs:{src:"http://statics.zhuishushenqi.com"+e.cover}}),o("span",[t._v(t._s(e.title))])],1)})),1)},yt=[],_t={props:["allbooks"]},xt=_t,Ct=(o("c428"),Object(p["a"])(xt,mt,yt,!1,null,null,null)),wt=Ct.exports,$t=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"showbookst"},t._l(t.recnext,(function(e){return o("li",{key:e._id,on:{click:function(o){return t.$emit("Tobook",e._id)}}},[o("h1",[o("span",[t._v(t._s(e.majorCate))]),o("h3",[t._v(t._s(e.title))]),o("h2",[t._v(t._s(e.shortIntro))])])])})),0)},St=[],Tt={props:["recnext"]},qt=Tt,Ot=(o("5f78"),Object(p["a"])(qt,$t,St,!1,null,null,null)),jt=Ot.exports,Lt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ht=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"loading1"},[o("span"),o("span"),o("span"),o("span"),o("span")])}],Rt={},Et=Rt,Bt=(o("53a2"),Object(p["a"])(Et,Lt,Ht,!1,null,null,null)),It=Bt.exports,Pt={name:"Home",data:function(){return{hotbooks:null,hotbook:null,goddessrec:null,goddessrecnext:null,boysrec:null,boysnext:null,allwatch:null,hi:0,goddessrecid:null,allwatchid:null,boysrecid:null}},components:{HomeHeader:j,HomeFooter:C,HomeNav:I,HaveCall:X,DisplayBooks:tt,GoddessRec:at,AllWatch:gt,ShowBooks:wt,ShowBookst:jt,BoysRec:pt,Loading:It},methods:{havecallclick:function(){this.hi=this.hi<this.hotbooks.length/4-1?this.hi+1:0,this.hotbook=this.hotbooks.slice(4*this.hi,4*(this.hi+1))},Tobook:function(t){this.$router.push({path:"/bookdetails",query:{id:t}})}},created:function(){var t=this;this.axios.get("http://novel.kele8.cn/rank/54d42d92321052167dfb75e3").then((function(e){t.hotbooks=e.data.ranking.books,t.hotbook=t.hotbooks.slice(0,4)})),this.axios.get("http://novel.kele8.cn/rank/54d43437d47d13ff21cad58b").then((function(e){t.goddessrecid=e.data.ranking.id,t.goddessrec=e.data.ranking.books,t.goddessrecnext=t.goddessrec.slice(4,8),t.goddessrec=t.goddessrec.slice(0,4)})),this.axios.get("http://novel.kele8.cn/rank/5a39d435fc84c2b8ef884798").then((function(e){t.allwatchid=e.data.ranking.id,t.allwatch=e.data.ranking.books,t.allwatch=t.allwatch.slice(0,4)})),this.axios.get("http://novel.kele8.cn/rank/5a6844f8fc84c2b8efaa8bc5").then((function(e){t.boysrecid=e.data.ranking.id,t.boysrec=e.data.ranking.books,t.boysnext=t.boysrec.slice(4,8),t.boysrec=t.boysrec.slice(0,4)}))}},At=Pt,Nt=(o("de16"),Object(p["a"])(At,b,v,!1,null,null,null)),zt=Nt.exports,Jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"ranking"}},[o("AllTitle",{attrs:{title:t.title},on:{onClickLeft:t.onClickLeft}}),o("div",{staticClass:"btn"},[o("router-link",{staticClass:"famale",attrs:{to:"/ranking"}},[t._v("女生版")]),o("router-link",{staticClass:"male",attrs:{to:"/ranking/rankmale"}},[t._v("男生版")])],1),o("keep-alive",[o("router-view")],1),o("HomeFooter")],1)},Dt=[],Ft=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-nav-bar",{staticClass:"alltitle",attrs:{title:t.title},on:{"click-left":function(e){return t.$emit("onClickLeft")},"click-right":t.onClickRight},scopedSlots:t._u([{key:"left",fn:function(){return[o("van-icon",{attrs:{name:"arrow-left",size:"24",color:"#fff"}})]},proxy:!0},{key:"right",fn:function(){return[o("van-icon",{attrs:{name:"wap-home-o",size:"24",color:"#fff"}})]},proxy:!0}])})},Wt=[],Mt={props:["title"],methods:{onClickRight:function(){this.$router.push({path:"/"})}}},Ut=Mt,Vt=(o("0bc1"),Object(p["a"])(Ut,Ft,Wt,!1,null,null,null)),Xt=Vt.exports,Gt={data:function(){return{title:"排行"}},components:{AllTitle:Xt,HomeFooter:C},methods:{onClickLeft:function(){this.$router.push({path:"/"})}}},Kt=Gt,Qt=(o("10a9"),Object(p["a"])(Kt,Jt,Dt,!1,null,null,null)),Yt=Qt.exports,Zt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.hotrank&&t.highopinion&&t.topsearch&&t.finishrank?o("div",[o("SundryRank",{attrs:{books:t.hotrank,title:t.hotranktitle.shortTitle},on:{clickhandle:function(e){return t.clickhandle(t.hotranktitle.id)}}}),o("SundryRank",{attrs:{books:t.highopinion,title:t.highopiniontitle.shortTitle},on:{clickhandle:function(e){return t.clickhandle(t.highopiniontitle.id)}}}),o("SundryRank",{attrs:{books:t.topsearch,title:t.topsearchtitle.shortTitle},on:{clickhandle:function(e){return t.clickhandle(t.topsearchtitle.id)}}}),o("SundryRank",{attrs:{books:t.finishrank,title:t.finishranktitle.shortTitle},on:{clickhandle:function(e){return t.clickhandle(t.finishranktitle.id)}}})],1):o("div",[o("Loading")],1)},te=[],ee=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ranktemplet",on:{click:function(e){return t.$emit("clickhandle")}}},[o("van-card",{attrs:{title:t.title,thumb:"http://statics.zhuishushenqi.com"+t.books[0].cover},scopedSlots:t._u([{key:"desc",fn:function(){return t._l(t.books,(function(e,n){return o("h2",{key:e._id},[o("span",[t._v(t._s(n+1))]),t._v(t._s(e.title)+" ")])}))},proxy:!0}])})],1)},oe=[],ne={props:["title","url","books"]},ie=ne,se=(o("9782"),Object(p["a"])(ie,ee,oe,!1,null,null,null)),ae=se.exports,re={data:function(){return{hotrank:null,hotranktitle:null,highopinion:null,highopiniontitle:null,topsearch:null,topsearchtitle:null,finishrank:null,finishranktitle:null}},components:{SundryRank:ae,Loading:It},methods:{clickhandle:function(t){this.$router.push({path:"/rankbooks",query:{id:t}})}},created:function(){var t=this;this.axios.get("http://novel.kele8.cn/rank/54d43437d47d13ff21cad58b").then((function(e){t.hotrank=e.data.ranking.books,t.hotrank=t.hotrank.slice(0,3),t.hotranktitle=e.data.ranking})),this.axios.get("http://novel.kele8.cn/rank/5a684551fc84c2b8efaab179").then((function(e){t.highopinion=e.data.ranking.books,t.highopinion=t.highopinion.slice(0,3),t.highopiniontitle=e.data.ranking})),this.axios.get("http://novel.kele8.cn/rank/5a684515fc84c2b8efaa9875").then((function(e){t.topsearch=e.data.ranking.books,t.topsearch=t.topsearch.slice(0,3),t.topsearchtitle=e.data.ranking})),this.axios.get("http://novel.kele8.cn/rank/564eb8a9cf77e9b25056162d").then((function(e){t.finishrank=e.data.ranking.books,t.finishrank=t.finishrank.slice(0,3),t.finishranktitle=e.data.ranking}))}},ce=re,le=Object(p["a"])(ce,Zt,te,!1,null,null,null),he=le.exports,ue=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.hotrank&&t.highopinion&&t.topsearch&&t.finishrank?o("div",[o("SundryRank",{attrs:{books:t.hotrank,title:t.hotranktitle.shortTitle},on:{clickhandle:function(e){return t.clickhandle(t.hotranktitle.id)}}}),o("SundryRank",{attrs:{books:t.highopinion,title:t.highopiniontitle.shortTitle},on:{clickhandle:function(e){return t.clickhandle(t.highopiniontitle.id)}}}),o("SundryRank",{attrs:{books:t.topsearch,title:t.topsearchtitle.shortTitle},on:{clickhandle:function(e){return t.clickhandle(t.topsearchtitle.id)}}}),o("SundryRank",{attrs:{books:t.finishrank,title:t.finishranktitle.shortTitle},on:{clickhandle:function(e){return t.clickhandle(t.finishranktitle.id)}}})],1):o("div",[o("Loading")],1)},pe=[],fe={data:function(){return{hotrank:null,hotranktitle:null,highopinion:null,highopiniontitle:null,topsearch:null,topsearchtitle:null,finishrank:null,finishranktitle:null}},methods:{clickhandle:function(t){this.$router.push({path:"/rankbooks",query:{id:t}})}},components:{SundryRank:ae,Loading:It},created:function(){var t=this;this.axios.get("http://novel.kele8.cn/rank/54d42d92321052167dfb75e3").then((function(e){t.hotrank=e.data.ranking.books,t.hotrank=t.hotrank.slice(0,3),t.hotranktitle=e.data.ranking})),this.axios.get("http://novel.kele8.cn/rank/5a6844aafc84c2b8efaa6b6e").then((function(e){t.highopinion=e.data.ranking.books,t.highopinion=t.highopinion.slice(0,3),t.highopiniontitle=e.data.ranking})),this.axios.get("http://novel.kele8.cn/rank/5a6844f8fc84c2b8efaa8bc5").then((function(e){t.topsearch=e.data.ranking.books,t.topsearch=t.topsearch.slice(0,3),t.topsearchtitle=e.data.ranking})),this.axios.get("http://novel.kele8.cn/rank/564eb878efe5b8e745508fde").then((function(e){t.finishrank=e.data.ranking.books,t.finishrank=t.finishrank.slice(0,3),t.finishranktitle=e.data.ranking}))}},de=fe,ke=Object(p["a"])(de,ue,pe,!1,null,null,null),be=ke.exports,ve=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"classify"}},[o("AllTitle",{attrs:{title:t.title},on:{onClickLeft:t.onClickLeft}}),o("div",{staticClass:"girlbooks"},[o("HomeTitel",{scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("女生小说")])]},proxy:!0}])}),o("ul",{staticClass:"girlclassify"},t._l(t.girlclassify,(function(e){return o("li",{key:e.bookCount,on:{click:function(o){return t.toclassify("female",e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),0)],1),o("div",{staticClass:"boybooks"},[o("HomeTitel",{scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("男生小说")])]},proxy:!0}])}),o("ul",{staticClass:"boyclassify"},t._l(t.boyclassify,(function(e){return o("li",{key:e.bookCount,on:{click:function(o){return t.toclassify("male",e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),0)],1),o("HomeFooter")],1)},ge=[],me={data:function(){return{title:"分类",girlclassify:null,boyclassify:null}},components:{AllTitle:Xt,HomeFooter:C,HomeTitel:W},methods:{onClickLeft:function(){this.$router.push({path:"/"})},toclassify:function(t,e){this.$router.push({path:"/classifybooks",query:{gender:t,name:e}})}},created:function(){var t=this;this.axios.get("http://novel.kele8.cn/categories").then((function(e){t.girlclassify=e.data.female,t.boyclassify=e.data.male}))}},ye=me,_e=(o("2d87"),Object(p["a"])(ye,ve,ge,!1,null,null,null)),xe=_e.exports,Ce=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"classifybooks"}},[o("AllTitle",{attrs:{title:t.$route.query.name+"小说"},on:{onClickLeft:t.onClickLeft}}),t.classifybooks&&t.classifybooks.length>0?o("ul",t._l(t.classifybooks,(function(e){return o("li",{key:e._id,on:{click:function(o){return t.Tobook(e._id)}}},[o("DisplayBooks",{attrs:{books:e}})],1)})),0):o("div",{staticClass:"without"},[o("h2",[t._v("暂无小说")])])],1)},we=[],$e=(o("b0c0"),{data:function(){return{classifybooks:null}},components:{AllTitle:Xt,DisplayBooks:tt},methods:{onClickLeft:function(){this.$router.push({path:"/classify"})},Tobook:function(t){this.$router.push({path:"/bookdetails",query:{gender:this.$route.query.gender,name:this.$route.query.name,id:t}})}},created:function(){var t=this;this.axios.get("http://novel.kele8.cn/category-info?gender="+this.$route.query.gender+"&major="+this.$route.query.name).then((function(e){t.classifybooks=e.data.books}))}}),Se=$e,Te=(o("fa94"),Object(p["a"])(Se,Ce,we,!1,null,null,null)),qe=Te.exports,Oe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"finishbooks"}},[o("AllTitle",{attrs:{title:t.title},on:{onClickLeft:t.onClickLeft}}),o("div",{staticClass:"girlfinish"},[o("HomeTitel",{scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("女频完本")])]},proxy:!0}])}),t.girlfinish?o("ul",t._l(t.girlfinish,(function(e){return o("li",{key:e._id,on:{click:function(o){return t.Tobook(e._id)}}},[o("DisplayBooks",{attrs:{books:e}})],1)})),0):t._e()],1),o("div",{staticClass:"boyfinish"},[o("HomeTitel",{scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("男频完本")])]},proxy:!0}])}),t.boyfinish?o("ul",t._l(t.boyfinish,(function(e){return o("li",{key:e._id,on:{click:function(o){return t.Tobook(e._id)}}},[o("DisplayBooks",{attrs:{books:e}})],1)})),0):t._e()],1),o("HomeFooter")],1)},je=[],Le={data:function(){return{title:"完本",girlfinish:null,boyfinish:null}},components:{AllTitle:Xt,HomeTitel:W,DisplayBooks:tt,HomeFooter:C},methods:{onClickLeft:function(){this.$router.push({path:"/"})},Tobook:function(t){this.$router.push({path:"/bookdetails",query:{id:t}})}},created:function(){var t=this;this.axios.get("http://novel.kele8.cn/rank/564eb8a9cf77e9b25056162d").then((function(e){t.girlfinish=e.data.ranking.books,t.girlfinish=t.girlfinish.slice(0,5)})),this.axios.get("http://novel.kele8.cn/rank/564eb878efe5b8e745508fde").then((function(e){t.boyfinish=e.data.ranking.books,t.boyfinish=t.boyfinish.slice(0,5)}))}},He=Le,Re=(o("43fe"),Object(p["a"])(He,Oe,je,!1,null,null,null)),Ee=Re.exports,Be=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"rankbooks"}},[o("AllTitle",{attrs:{title:t.title},on:{onClickLeft:t.onClickLeft}}),t.rankbooks?o("ul",{staticClass:"rank"},t._l(t.rankbooks,(function(e){return o("li",{key:e._id,on:{click:function(o){return t.Tobook(e._id)}}},[o("DisplayBooks",{attrs:{books:e}})],1)})),0):o("div",[o("Loading")],1),o("HomeFooter")],1)},Ie=[],Pe={data:function(){return{title:null,rankbooks:null}},components:{AllTitle:Xt,DisplayBooks:tt,HomeFooter:C,Loading:It},created:function(){var t=this;this.axios.get("http://novel.kele8.cn/rank/"+this.$route.query.id).then((function(e){t.title=e.data.ranking.shortTitle,t.rankbooks=e.data.ranking.books}))},methods:{onClickLeft:function(){this.$router.push({path:"/ranking"})},Tobook:function(t){this.$router.push({path:"/bookdetails",query:{id:t}})}}},Ae=Pe,Ne=(o("d2eb"),Object(p["a"])(Ae,Be,Ie,!1,null,null,null)),ze=Ne.exports,Je=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"bookdetail"}},[o("AllTitle",{attrs:{title:t.title},on:{onClickLeft:t.onClickLeft}}),t.book?o("div",{staticClass:"content"},[o("van-card",{attrs:{title:t.book.title,thumb:"http://statics.zhuishushenqi.com"+t.book.cover},scopedSlots:t._u([{key:"desc",fn:function(){return[o("h2",[t._v(" 作者 : "),o("span",[t._v(t._s(t.book.author))])]),o("h3",[t._v(" 字数 ： "+t._s(parseInt(t.book.wordCount/1e4))+"万字 | "),t.book.isSerial?o("span",[t._v("连载中")]):o("span",[t._v("已完结")])])]},proxy:!0},{key:"tags",fn:function(){return[o("van-tag",{attrs:{plain:"",type:"danger"}},[t._v(t._s(t.book.majorCate))])]},proxy:!0}],null,!1,277795606)}),o("div",{staticClass:"btn"},[t.isread?o("div",{staticClass:"read",on:{click:t.toreadbook}},[t._v(" 开始阅读 ")]):o("div",{staticClass:"read",on:{click:t.toreadbook}},[t._v("继续阅读")]),t.isbookstack?o("div",{staticClass:"add",on:{click:t.addbookstack}},[t._v(" 加入书架 ")]):o("div",{staticClass:"add",on:{click:t.removebook}},[t._v("移出书架")])]),o("div",{staticClass:"summary"},[o("p",{class:{pactive:t.isiclick}},[t._v(" 简介 ： "+t._s(t.book.longIntro)+" ")]),o("i",{class:{iactive:t.isiclick},on:{click:function(e){t.isiclick=!t.isiclick}}})]),o("div",{on:{click:t.chapterhandle}},[o("van-nav-bar",{staticClass:"lastchapter",attrs:{"right-text":"目录"},scopedSlots:t._u([{key:"left",fn:function(){return[o("h2",[t._v(" 最新："),o("span",[t._v(t._s(t.book.lastChapter))])])]},proxy:!0}],null,!1,2479194535)})],1),o("div",{staticClass:"comment"},[o("HomeTitel",{on:{clickhandle:t.comment},scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("评论")])]},proxy:!0},{key:"right",fn:function(){return[o("span",[t._v("我要评论")])]},proxy:!0}],null,!1,2493407029)}),t.reviews&&t.reviews.length>0?o("Reviews",{attrs:{reviews:t.reviews}}):o("div",{staticClass:"notreviews"},[o("span",[t._v("暂无评论")])])],1),o("div",{staticClass:"recommend"},[o("HomeTitel",{on:{clickhandle:t.recommend},scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("你可能感兴趣的")])]},proxy:!0},{key:"right",fn:function(){return[o("span",[t._v("换一换")])]},proxy:!0}],null,!1,1939412923)}),o("ShowBooks",{staticClass:"recommendbooks",attrs:{allbooks:t.recommendbooks},on:{Tobook:t.Tobook}})],1)],1):o("div",[o("Loading")],1),o("HomeFooter")],1)},De=[],Fe=o("5530"),We=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{attrs:{id:"reviews"}},t._l(t.reviews,(function(e){return o("li",{key:e._id},[o("van-card",{attrs:{desc:"描述信息",title:e.author.nickname,thumb:"http://statics.zhuishushenqi.com"+e.author.avatar},scopedSlots:t._u([{key:"desc",fn:function(){return[o("h2",[t._v(t._s(e.title))]),o("h3",[t._v(t._s(e.content))])]},proxy:!0},{key:"footer",fn:function(){return[o("span",[t._v(t._s(e.likeCount)+"人觉得有用")])]},proxy:!0}],null,!0)})],1)})),0)},Me=[],Ue={props:["reviews"]},Ve=Ue,Xe=(o("cf95"),Object(p["a"])(Ve,We,Me,!1,null,null,null)),Ge=Xe.exports,Ke=o("2f62"),Qe={components:{AllTitle:Xt,HomeTitel:W,ShowBooks:wt,HomeFooter:C,Loading:It,Reviews:Ge},data:function(){return{title:"书籍详情",chapterhostory:null,stackhostroy:null,book:null,isiclick:!0,isread:!0,hasbook:null,allrecommend:null,count:0,recommendbooks:null,fromid:null,reviews:null,isbookstack:!0,inbookstack:null}},methods:{removebook:function(){var t=this;this.isbookstack=!0,this.inbookstack=localStorage.getarray("bookstack")||[],this.inbookstack=this.inbookstack.filter((function(e){return e.id!==t.$route.query.id})),localStorage.setItem("bookstack",JSON.stringify(this.inbookstack)),console.log(localStorage.getarray("bookstack"))},addbookstack:function(){var t=this;this.isbookstack=!1;var e=Date.now();if(this.stackhostroy=localStorage.getarray("bookstack")||[],this.stackhostroy.length>0){var o=[];o=this.stackhostroy.filter((function(e){return e.id===t.book._id})),0===o.length&&(this.stackhostroy.push({id:this.book._id,title:this.book.title,cover:this.book.cover,time:e,expire:18e6}),localStorage.setItem("bookstack",JSON.stringify(this.stackhostroy)))}else this.stackhostroy.push({id:this.book._id,title:this.book.title,cover:this.book.cover,time:e,expire:18e6}),localStorage.setItem("bookstack",JSON.stringify(this.stackhostroy))},toreadbook:function(){var t=this,e=Date.now();if(this.chapterhostory=localStorage.getarray("chapter")||[],this.chapterhostory.length>0){var o=[];o=this.chapterhostory.filter((function(e){return e.id===t.$route.query.id})),console.log("arr:",o,this.chapterhostory),0===o.length&&(console.log(this.chapterhostory),this.chapterhostory.push({id:this.$route.query.id,section:0,time:e,expire:18e6}),localStorage.setItem("chapter",JSON.stringify(this.chapterhostory)))}else this.chapterhostory.push({id:this.$route.query.id,section:0,time:e,expire:12e5}),localStorage.setItem("chapter",JSON.stringify(this.chapterhostory));this.$router.push({path:"./readbook",query:{id:this.$route.query.id}})},onClickLeft:function(){console.log(this.prevpath),"/classifybooks"===this.prevpath?this.$router.push({path:this.prevpath,query:{gender:this.$route.query.gender,name:this.$route.query.name}}):"/rankbooks"===this.prevpath?this.$router.push({path:this.prevpath,query:{id:this.fromid}}):"/searchresult"===this.prevpath?this.$router.push({path:this.prevpath,query:{value:this.book.title}}):this.$router.push({path:this.prevpath})},chapterhandle:function(){this.$router.push({path:"/booklists",query:{id:this.$route.query.id}})},comment:function(){console.log("请先登录")},recommend:function(){this.count=this.count<this.allrecommend.length/4-1?this.count+1:0,this.recommendbooks=this.allrecommend.slice(4*this.count,4*(this.count+1))},Tobook:function(t){var e=this;console.log(t),this.book=null;var o=this.$router.history.current.query,n=this.$router.history.current.path,i=JSON.parse(JSON.stringify(o));i.id=t,this.$router.push({path:n,query:i}),this.axios.get("http://novel.kele8.cn/book-info/"+t).then((function(t){e.book=t.data})),this.axios.get("http://novel.kele8.cn/recommend/"+t).then((function(t){e.recommendbooks=t.data.books,e.recommendbooks=e.recommendbooks.slice(1,5)})),this.axios.get("http://novel.kele8.cn/book/reviews?book="+t+"&start=0&limit=5").then((function(t){e.reviews=t.data.reviews}))}},computed:Object(Fe["a"])({},Object(Ke["b"])(["prevpath"])),beforeRouteEnter:function(t,e,o){"/readbook"!==e.path&&"/booklists"!==e.path?o((function(t){t.$store.commit("updatedPrevpath",e.path),t.fromid=e.query.id})):o()},beforeRouteLeave:function(t,e,o){var n=this;"ReadBook"==t.name||"BookLists"==t.name?this.axios.get("http://novel.kele8.cn/book-sources?view=summary&book="+this.$route.query.id).then((function(t){n.axios.get("http://novel.kele8.cn/book-chapters/"+t.data[0]._id).then((function(t){n.$store.commit("updatedChapter",t.data),o()}))})):o()},created:function(){var t=this;this.hasbook=localStorage.getarray("chapter")||[],this.hasbook=this.hasbook.filter((function(e){return e.id===t.$route.query.id})),this.hasbook.length>0&&(this.isread=!1),this.inbookstack=localStorage.getarray("bookstack")||[],this.inbookstack=this.inbookstack.filter((function(e){return e.id===t.$route.query.id})),this.inbookstack.length>0&&(this.isbookstack=!1),this.axios.get("http://novel.kele8.cn/book-info/"+this.$route.query.id).then((function(e){t.book=e.data})),this.axios.get("http://novel.kele8.cn/recommend/"+this.$route.query.id).then((function(e){t.allrecommend=e.data.books,t.recommendbooks=t.allrecommend.slice(0,4),console.log(e.data)})),this.axios.get("http://novel.kele8.cn/book/reviews?book="+this.$route.query.id+"&start=0&limit=5").then((function(e){t.reviews=e.data.reviews}))}},Ye=Qe,Ze=(o("ef94"),Object(p["a"])(Ye,Je,De,!1,null,null,null)),to=Ze.exports,eo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"searchbook"}},[o("AllTitle",{attrs:{title:t.title},on:{onClickLeft:t.onClickLeft}}),o("div",{staticClass:"search"},[o("form",{attrs:{action:"/"}},[o("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{search:t.onSearch,input:t.onChange},model:{value:t.value,callback:function(e){t.value="string"===typeof e?e.trim():e},expression:"value"}})],1)]),t.value?o("div",{staticClass:"searchcomplete"},[o("ul",t._l(t.completewords,(function(e,n){return o("li",{key:n,on:{click:function(o){return t.completehandle(e)}}},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),""===t.value?o("div",{staticClass:"hotbooks"},[o("HomeTitel",{scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("热门推荐")])]},proxy:!0}],null,!1,1976574903)}),o("ul",t._l(t.hotbooks,(function(e){return o("li",{key:e.book,on:{click:function(o){return t.hotbookhandle(e)}}},[t._v(" "+t._s(e.word)+" ")])})),0)],1):t._e(),""===t.value?o("HomeTitel",{on:{clickhandle:t.clickhandle},scopedSlots:t._u([{key:"left",fn:function(){return[o("h3",[t._v("搜索历史")])]},proxy:!0},{key:"right",fn:function(){return[o("span",[t._v("删除历史")])]},proxy:!0}],null,!1,1108976895)}):t._e(),""===t.value?o("ul",{staticClass:"historysearch"},t._l(t.historysearch,(function(e){return o("li",{key:e.time,on:{click:function(o){return t.historyhandle(e.data)}}},[t._v(" "+t._s(e.data)+" ")])})),0):t._e()],1)},oo=[],no={components:{AllTitle:Xt,HomeTitel:W},data:function(){return{title:"搜索",value:"",hotbooks:null,completewords:null,historysearch:null}},created:function(){var t=this;this.axios.get("http://novel.kele8.cn/hot-books").then((function(e){t.hotbooks=e.data.newHotWords})),this.historysearch=localStorage.getarray("historysearch")},methods:{onClickLeft:function(){this.$router.push({path:"/"})},onSearch:function(){var t=Date.now();this.historysearch=localStorage.getarray("historysearch")||[],this.historysearch.unshift({data:this.value,time:t,expire:36e5}),localStorage.setItem("historysearch",JSON.stringify(this.historysearch)),this.$router.push({path:"/searchresult",query:{value:this.value}}),this.value=""},onChange:function(){var t=this;this.axios.get("http://novel.kele8.cn/auto-complete?query="+this.value).then((function(e){t.completewords=e.data.keywords}))},clickhandle:function(){localStorage.removeItem("historysearch"),this.historysearch=localStorage.getarray("historysearch")},hotbookhandle:function(t){this.value=t.word,this.onSearch()},historyhandle:function(t){console.log(t),this.$router.push({path:"/searchresult",query:{value:t}})},completehandle:function(t){this.value=t,this.onSearch()}}},io=no,so=(o("3394"),Object(p["a"])(io,eo,oo,!1,null,null,null)),ao=so.exports,ro=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"readbook",style:{background:t.changebg}},[o("transition",{attrs:{name:"headermove"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.showtool,expression:"showtool"}],staticClass:"headnav"},[o("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.$router.push({path:"/bookdetails",query:{id:t.$route.query.id}})},"click-right":function(e){t.homeshow=!t.homeshow}},scopedSlots:t._u([{key:"right",fn:function(){return[o("van-icon",{attrs:{name:"wap-nav"}})]},proxy:!0}])}),o("ul",{directives:[{name:"show",rawName:"v-show",value:t.homeshow,expression:"homeshow"}]},[o("li",{on:{click:function(e){return t.$router.push({path:"/"})}}},[o("van-icon",{attrs:{name:"wap-home"}}),t._v("首页 ")],1),o("li",{on:{click:function(e){return t.$router.push({path:"/bookstack"})}}},[o("van-icon",{attrs:{name:"column"}}),t._v("书架 ")],1),o("li",[o("van-icon",{attrs:{name:"todo-list"}}),t._v("详情")],1)])],1)]),t.book?o("div",{ref:"wrapper",staticClass:"wrapper"},[o("ul",{staticClass:"shade"},[o("li",{staticClass:"prevpage",on:{click:t.prevpage}},[t.isshadetip?o("div",{staticClass:"shadetip"},[t._v(" 上一页 ")]):t._e()]),o("li",{staticClass:"sectorization",on:{click:t.clickhandle}},[t.isshadetip?o("div",{staticClass:"shadetip"},[t._v(" 菜单 ")]):t._e()]),o("li",{staticClass:"nextpage",on:{click:t.nextpage}},[t.isshadetip?o("div",{staticClass:"shadetip"},[t._v(" 下一页 ")]):t._e()])]),o("div",{ref:"bookcontent",staticClass:"bookcontent",style:{background:t.changebg}},[o("h2",{ref:"title",staticClass:"title",style:{color:t.changefc}},[t._v(" "+t._s(t.book.title)+" ")]),t._l(t.cpcontents,(function(e,n){return o("p",{key:n,staticClass:"content",style:{fontSize:t.fontSize+"px",color:t.changefc}},[t._v(" "+t._s(e)+" ")])}))],2),o("transition",{attrs:{name:"leftmove"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.showchapter,expression:"showchapter"}],ref:"chapteritem",staticClass:"chapteritem"},[o("h3",[t._v("目录")]),o("ul",t._l(t.chapter.chapters,(function(e){return o("li",{key:e.id,class:{itemactive:e.order-1===t.lacchapter[0].section},on:{click:function(o){return t.readbook(e.order,e.isVip)}}},[t._v(" "+t._s(e.order)+" "+t._s(e.title)+" "),e.isVip?o("i"):t._e()])})),0)])]),o("transition",{attrs:{name:"footermove"}},[t.showtool?o("div",{staticClass:"footernav"},[o("div",{staticClass:"change-font-size"},[o("span",{staticClass:"changebtn",class:{changeactive:0===t.progress},on:{click:t.abatehandle}},[t._v("Aa-")]),o("div",{staticClass:"progressbar"},[o("van-progress",{attrs:{"pivot-text":"",color:"#f2826a",percentage:t.progress}})],1),o("span",{staticClass:"changebtn",class:{changeactive:100===t.progress},on:{click:t.addhandle}},[t._v("Aa+")])]),o("div",{staticClass:"change-background"},[o("van-button",{class:{changbgactive:"#eee6dd"===t.changebg},attrs:{hairline:""},on:{click:t.defaulthandle}},[t._v("默认")]),o("van-button",{class:{changbgactive:"#0c0c0c"===t.changebg},attrs:{hairline:""},on:{click:t.nightshandle}},[t._v("夜间")]),o("van-button",{class:{changbgactive:"#c6efcc"===t.changebg},attrs:{hairline:""},on:{click:t.eyeshieldhandle}},[t._v("护眼")])],1),o("van-nav-bar",{on:{"click-left":t.onClickLeft,"click-right":t.onClickRight},scopedSlots:t._u([{key:"left",fn:function(){return[o("span",{class:{isprevactive:1===t.chapter.chapters[t.lacchapter[0].section].order}},[t._v("上一章")])]},proxy:!0},{key:"title",fn:function(){return[o("span",{on:{click:t.ToBookliste}},[t._v("目录")])]},proxy:!0},{key:"right",fn:function(){return[o("span",[t._v("下一章")])]},proxy:!0}],null,!1,1856293833)})],1):t._e()])],1):o("div",{staticClass:"nobook",on:{click:t.clickhandle}},[o("van-skeleton",{attrs:{title:"",row:20}})],1)],1)},co=[],lo=(o("ac1f"),o("1276"),o("9911"),{data:function(){return{book:null,cpcontents:null,showtool:!1,homeshow:!1,progress:25,changebg:"#eee6dd",changefc:"#000",showchapter:!1,isprev:!1,lacchapter:[{section:0}],contentheight:0,pagecount:0,isfirst:!0,isshadetip:!0}},computed:Object(Fe["a"])(Object(Fe["a"])({},Object(Ke["b"])(["chapter"])),{},{fontSize:function(){switch(this.progress){case 0:return 14;case 25:return 16;case 50:return 18;case 75:return 20;default:return 22}}}),created:function(){var t=this;this.chapter?localStorage.getarray("chapter")?(this.lacchapter=localStorage.getarray("chapter").filter((function(e){return e.id===t.$route.query.id})),this.axios.get("http://novel.kele8.cn/chapters/"+encodeURIComponent(this.chapter.chapters[this.lacchapter[0].section].link)).then((function(e){t.book=e.data.chapter,t.cpcontents=t.book.cpContent.split(/\n/),setTimeout((function(){t.isshadetip=!1}),1e3)}))):this.axios.get("http://novel.kele8.cn/chapters/"+encodeURIComponent(this.chapter.chapters[this.lacchapter[0].section].link)).then((function(e){t.book=e.data.chapter,t.cpcontents=t.book.cpContent.split(/\n/),setTimeout((function(){t.isshadetip=!1}),1e3)})):this.axios.get("http://novel.kele8.cn/book-sources?view=summary&book="+this.$route.query.id).then((function(e){t.axios.get("http://novel.kele8.cn/book-chapters/"+e.data[0]._id).then((function(e){t.$store.commit("updatedChapter",e.data),localStorage.getarray("chapter")?(t.lacchapter=localStorage.getarray("chapter"),t.lacchapter=localStorage.getarray("chapter").filter((function(e){return e.id===t.$route.query.id})),t.axios.get("http://novel.kele8.cn/chapters/"+encodeURIComponent(t.chapter.chapters[t.lacchapter[0].section].link)).then((function(e){t.book=e.data.chapter,t.cpcontents=t.book.cpContent.split(/\n/),setTimeout((function(){t.isshadetip=!1}),1e3)}))):(console.log("不存在",localStorage.getExpire("chapter")),t.axios.get("http://novel.kele8.cn/chapters/"+encodeURIComponent(t.chapter.chapters[t.lacchapter[0].section].link)).then((function(e){t.book=e.data.chapter,t.cpcontents=t.book.cpContent.split(/\n/),setTimeout((function(){t.isshadetip=!1}),1e3)})))}))}))},updated:function(){this.isfirst&&this.book&&(this.$refs.bookcontent.style.height="auto",this.contentheight=Math.round(this.$refs.bookcontent.offsetHeight/this.$refs.wrapper.offsetHeight),this.$refs.bookcontent.style.height="100%"),this.$refs.chapteritem&&(this.$refs.chapteritem.scrollTop=47*(this.lacchapter[0].section+1))},methods:{prevpage:function(){if(0===this.pagecount)return this.onClickLeft(),!1;this.isfirst=!1,this.$refs.bookcontent.style.height="100%";var t=document.body.offsetWidth;this.pagecount=this.pagecount<=0?0:this.pagecount-1,this.$refs.bookcontent.style.transform="translateX(-".concat((t-16)*this.pagecount,"px)")},nextpage:function(){if(this.pagecount===this.contentheight-1)return this.onClickRight(),!1;this.isfirst=!1,this.$refs.bookcontent.style.height="100%";var t=document.body.offsetWidth;this.pagecount=this.pagecount>=this.contentheight-1?this.contentheight-1:this.pagecount+1,this.$refs.bookcontent.style.transform="translateX(-".concat((t-16)*this.pagecount,"px)")},onClickLeft:function(){var t=this;this.isfirst=!0;var e=document.body.offsetWidth;if(this.pagecount=0,this.$refs.bookcontent.style.transform="translateX(-".concat((e-16)*this.pagecount,"px)"),this.chapter.chapters[this.lacchapter[0].section].order>1){if(this.chapter.chapters[this.lacchapter[0].section-1].isVip)return!1;this.book=null,this.showchapter=!1,this.showtool=!1;var o=Date.now();this.chapterhostory=localStorage.getarray("chapter")||[],this.chapterhostory=this.chapterhostory.filter((function(e){return e.id!==t.$route.query.id})),this.chapterhostory.push({id:this.$route.query.id,section:this.chapter.chapters[this.lacchapter[0].section-1].order-1,time:o,expire:18e6}),localStorage.setItem("chapter",JSON.stringify(this.chapterhostory)),this.lacchapter=localStorage.getarray("chapter").filter((function(e){return e.id===t.$route.query.id})),this.axios.get("http://novel.kele8.cn/chapters/"+encodeURIComponent(this.chapter.chapters[this.lacchapter[0].section].link)).then((function(e){t.book=e.data.chapter,t.cpcontents=t.book.cpContent.split(/\n/)}))}},onClickRight:function(){var t=this;this.isfirst=!0;var e=document.body.offsetWidth;if(this.pagecount=0,this.$refs.bookcontent.style.transform="translateX(-".concat((e-16)*this.pagecount,"px)"),this.chapter.chapters[this.lacchapter[0].section+1].isVip)return!1;this.book=null,this.showchapter=!1,this.showtool=!1;var o=Date.now();this.chapterhostory=localStorage.getarray("chapter")||[],this.chapterhostory=this.chapterhostory.filter((function(e){return e.id!==t.$route.query.id})),this.chapterhostory.push({id:this.$route.query.id,section:this.chapter.chapters[this.lacchapter[0].section+1].order-1,time:o,expire:18e6}),localStorage.setItem("chapter",JSON.stringify(this.chapterhostory)),this.lacchapter=localStorage.getarray("chapter").filter((function(e){return e.id===t.$route.query.id})),this.axios.get("http://novel.kele8.cn/chapters/"+encodeURIComponent(this.chapter.chapters[this.lacchapter[0].section].link)).then((function(e){t.book=e.data.chapter,t.cpcontents=t.book.cpContent.split(/\n/)}))},clickhandle:function(){this.isfirst=!1,this.showtool=!this.showtool,this.homeshow=!1,this.showchapter=!1},ToBookliste:function(){this.showtool=!1,this.showchapter=!0},abatehandle:function(){this.progress=this.progress<=0?0:this.progress-25},addhandle:function(){this.progress=this.progress>=100?100:this.progress+25},defaulthandle:function(){this.changebg="#eee6dd",this.changefc="#000"},nightshandle:function(){this.changebg="#0c0c0c",this.changefc="#666"},eyeshieldhandle:function(){this.changebg="#c6efcc",this.changefc="rgba(12,46,16,.8)"},readbook:function(t,e){var o=this;if(this.isfirst=!0,e)return!1;var n=document.body.offsetWidth;this.pagecount=0,this.$refs.bookcontent.style.transform="translateX(-".concat((n-16)*this.pagecount,"px)"),this.book=null,this.showchapter=!1;var i=Date.now();this.chapterhostory=localStorage.getarray("chapter")||[],this.chapterhostory.length>0?(this.chapterhostory=this.chapterhostory.filter((function(t){return t.id!==o.$route.query.id})),this.chapterhostory.push({id:this.$route.query.id,section:t-1,time:i,expire:18e6}),localStorage.setItem("chapter",JSON.stringify(this.chapterhostory))):(this.chapterhostory.push({id:this.$route.query.id,section:t-1,time:i,expire:12e5}),localStorage.setItem("chapter",JSON.stringify(this.chapterhostory))),this.lacchapter=localStorage.getarray("chapter").filter((function(t){return t.id===o.$route.query.id})),this.axios.get("http://novel.kele8.cn/chapters/"+encodeURIComponent(this.chapter.chapters[this.lacchapter[0].section].link)).then((function(t){o.book=t.data.chapter,o.cpcontents=o.book.cpContent.split(/\n/)}))}}}),ho=lo,uo=(o("f229"),Object(p["a"])(ho,ro,co,!1,null,null,null)),po=uo.exports,fo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.chapters?o("div",{attrs:{id:"boollists"}},[o("AllTitle",{attrs:{title:t.chapter.name},on:{onClickLeft:t.onClickLeft}}),o("van-nav-bar",{staticClass:"listtitle",attrs:{"right-text":t.issequence?"倒序":"正序"},on:{"click-right":t.onClickRight},scopedSlots:t._u([{key:"left",fn:function(){return[o("h4",[t._v(" 目录 "),o("span",[t._v("共"+t._s(t.chapter.chapters.length)+"章")])])]},proxy:!0}],null,!1,999118010)}),o("ul",{staticClass:"chapteritem"},t._l(t.chapters,(function(e){return o("li",{key:e.id,on:{click:function(o){return t.readbook(e.order,e.isVip)}}},[t._v(" "+t._s(e.order)+" "+t._s(e.title)+" "),e.isVip?o("i"):t._e()])})),0),o("van-pagination",{staticClass:"pagination",attrs:{"page-count":t.pagecount,"force-ellipses":""},on:{change:t.lefthandle},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),o("HomeFooter")],1):o("div",[o("Loading")],1)},ko=[],bo=o("2909"),vo={components:{AllTitle:Xt,Loading:It,HomeFooter:C},data:function(){return{currentPage:1,pagecount:0,chapters:null,issequence:!0,allchapter:null,readbookhistory:null,chapterhostory:null}},computed:Object(Fe["a"])({},Object(Ke["b"])(["chapter"])),created:function(){var t=this;this.chapter?(this.pagecount=Math.ceil(this.chapter.chapters.length/20),this.allchapter=Object(bo["a"])(this.chapter.chapters),this.chapters=this.allchapter.slice(0,20)):this.axios.get("http://novel.kele8.cn/book-sources?view=summary&book="+this.$route.query.id).then((function(e){console.log(e.data[0]._id),t.axios.get("http://novel.kele8.cn/book-chapters/"+e.data[0]._id).then((function(e){t.$store.commit("updatedChapter",e.data),t.pagecount=Math.ceil(t.chapter.chapters.length/20),t.allchapter=Object(bo["a"])(t.chapter.chapters),t.chapters=t.allchapter.slice(0,20)}))}))},methods:{onClickLeft:function(){this.$router.push({path:"/bookdetails",query:{id:this.$route.query.id}})},onClickRight:function(){this.issequence=!this.issequence,this.allchapter.reverse(),this.currentPage=1,this.chapters=this.allchapter.slice(20*(this.currentPage-1),20*this.currentPage)},lefthandle:function(){this.chapters=this.allchapter.slice(20*(this.currentPage-1),20*this.currentPage)},readbook:function(t,e){var o=this;if(e)return!1;var n=Date.now();this.chapterhostory=localStorage.getarray("chapter")||[],this.chapterhostory.length>0?(this.chapterhostory=this.chapterhostory.filter((function(t){return t.id!==o.$route.query.id})),this.chapterhostory.push({id:this.$route.query.id,section:t-1,time:n,expire:18e6}),localStorage.setItem("chapter",JSON.stringify(this.chapterhostory))):(this.chapterhostory.push({id:this.$route.query.id,section:t-1,time:n,expire:12e5}),localStorage.setItem("chapter",JSON.stringify(this.chapterhostory))),this.$router.push({path:"./readbook",query:{id:this.$route.query.id}})}}},go=vo,mo=(o("80a6"),Object(p["a"])(go,fo,ko,!1,null,null,null)),yo=mo.exports,_o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"searchresult"}},[o("AllTitle",{attrs:{title:t.$route.query.value+"的相关书籍"},on:{onClickLeft:t.onClickLeft}}),t.searchbooks?o("ul",{staticClass:"searchbooks"},t._l(t.searchbooks,(function(e){return o("li",{key:e._id,on:{click:function(o){return t.Tobook(e._id)}}},[o("van-card",{attrs:{title:e.title,thumb:"http://statics.zhuishushenqi.com"+e.cover},scopedSlots:t._u([{key:"desc",fn:function(){return[o("h4",[t._v(t._s(e.author)+" | "+t._s(e.cat))]),o("h4",[t._v(t._s(e.shortIntro))]),o("h3",[o("span",[t._v(t._s(e.latelyFollower))]),t._v("人气 | "),o("span",[t._v(t._s(e.retentionRatio))]),t._v("%读者存留 ")])]},proxy:!0}],null,!0)})],1)})),0):o("div",[o("Loading")],1)],1)},xo=[],Co={data:function(){return{searchbooks:null}},components:{AllTitle:Xt,Loading:It},created:function(){var t=this;this.axios.get("http://novel.kele8.cn/search?keyword="+this.$route.query.value).then((function(e){t.searchbooks=e.data.books}))},methods:{onClickLeft:function(){this.$router.push({path:"/searchbook"})},Tobook:function(t){console.log(t),this.$router.push({path:"/bookdetails",query:{id:t}})}}},wo=Co,$o=(o("7c3f"),Object(p["a"])(wo,_o,xo,!1,null,null,null)),So=$o.exports,To=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"bookstack"}},[o("AllTitle",{attrs:{title:"我的书架"},on:{onClickLeft:t.onClickLeft}}),t.bookstack?o("div",{staticClass:"stack"},[o("ul",t._l(t.bookstack,(function(e){return o("li",{key:e.id},[o("van-card",{attrs:{title:e.title,thumb:"http://statics.zhuishushenqi.com"+e.cover},scopedSlots:t._u([{key:"desc",fn:function(){return[o("van-button",{attrs:{type:"default"},on:{click:function(o){return t.toreadbook(e.id)}}},[t._v("继续阅读")]),o("van-button",{attrs:{type:"warning"},on:{click:function(o){return t.removebook(e.id)}}},[t._v("移出书架")])]},proxy:!0}],null,!0)})],1)})),0)]):o("div",{staticClass:"notstack"},[o("h2",[t._v("暂无小说，到书城逛逛吧")])]),o("HomeFooter")],1)},qo=[],Oo={components:{AllTitle:Xt,HomeFooter:C},data:function(){return{bookstack:null}},methods:{toreadbook:function(t){console.log(t),this.$router.push({path:"/bookdetails",query:{id:t}})},removebook:function(t){console.log(t),this.bookstack=this.bookstack.filter((function(e){return e.id!==t})),localStorage.setItem("bookstack",JSON.stringify(this.bookstack))},onClickLeft:function(){this.$router.push({path:"/"})}},created:function(){this.bookstack=localStorage.getarray("bookstack")}},jo=Oo,Lo=(o("55cb"),Object(p["a"])(jo,To,qo,!1,null,null,null)),Ho=Lo.exports;n["a"].use(k["a"]);var Ro=[{path:"/",name:"Home",component:zt},{path:"/ranking",name:"Ranking",component:Yt,children:[{path:"/",component:he},{path:"rankmale",component:be}]},{path:"/classify",name:"Classify",component:xe},{path:"/classifybooks",name:"ClassifyBooks",component:qe},{path:"/finishbooks",name:"FinishBooks",component:Ee},{path:"/rankbooks",name:"RankBooks",component:ze},{path:"/bookdetails",name:"BookDetails",component:to},{path:"/searchbook",name:"SearchBook",component:ao},{path:"/booklists",name:"BookLists",component:yo},{path:"/readbook",name:"ReadBook",component:po},{path:"/searchresult",name:"SearchResult",component:So},{path:"/bookstack",name:"BookStack",component:Ho}],Eo=new k["a"]({routes:Ro}),Bo=Eo;n["a"].use(Ke["a"]);var Io=new Ke["a"].Store({state:{chapter:null,prevpath:"/"},mutations:{updatedChapter:function(t,e){t.chapter=e},updatedPrevpath:function(t,e){t.prevpath=e}},actions:{},modules:{}}),Po=o("b970");o("157a");n["a"].use(Po["a"]),n["a"].config.productionTip=!1,new n["a"]({router:Bo,store:Io,render:function(t){return t(d)}}).$mount("#app")},"5bcb":function(t,e,o){},"5ed7":function(t,e,o){},"5f78":function(t,e,o){"use strict";o("75eb")},6729:function(t,e,o){"use strict";o("dd14")},6846:function(t,e,o){},"693f":function(t,e,o){},"6fe1":function(t,e,o){},"6ff5":function(t,e,o){},"75eb":function(t,e,o){},"77d4":function(t,e,o){"use strict";o("5ed7")},"7c3f":function(t,e,o){"use strict";o("5bcb")},"80a6":function(t,e,o){"use strict";o("693f")},"85ec":function(t,e,o){},"88e0":function(t,e,o){},"8d91":function(t,e,o){},"95d5":function(t,e,o){},9782:function(t,e,o){"use strict";o("0e07")},a370:function(t,e,o){},a3ee:function(t,e,o){},c428:function(t,e,o){"use strict";o("88e0")},cbb6:function(t,e,o){},cf95:function(t,e,o){"use strict";o("f2b3")},d2eb:function(t,e,o){"use strict";o("6846")},d7af:function(t,e,o){},dc8a:function(t,e,o){},dd14:function(t,e,o){},de16:function(t,e,o){"use strict";o("8d91")},ed7d:function(t,e,o){},ef94:function(t,e,o){"use strict";o("95d5")},f229:function(t,e,o){"use strict";o("0d4e")},f2b3:function(t,e,o){},fa94:function(t,e,o){"use strict";o("6ff5")}});
//# sourceMappingURL=app.95ec545b.js.map